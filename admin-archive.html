<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Restricted Administrative Archive</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f2f2f2;
    margin: 0;
}

header {
    background-color: #2e2e2e;
    color: #fff;
    padding: 1.5rem;
}

main {
    max-width: 1000px;
    margin: 2rem auto;
    background: #fff;
    padding: 2rem;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}

.tabs {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
}

.tab {
    padding: 0.6rem 1rem;
    border: 1px solid #ccc;
    background: #eee;
    cursor: pointer;
    user-select: none;
}

.tab.locked {
    color: #777;
    background: #ddd;
}

.tab.active {
    background: #fff;
    border-bottom: 2px solid #000;
    font-weight: bold;
}

.section {
    display: none;
    border-top: 1px solid #ccc;
    padding-top: 1rem;
}

.section.active {
    display: block;
}

.restricted {
    color: darkred;
    font-weight: bold;
}

.code-box {
    margin-bottom: 1.5rem;
}

input[type="text"] {
    padding: 0.5rem;
    font-size: 1rem;
    width: 200px;
}

button {
    padding: 0.5rem 1rem;
    font-size: 1rem;
    cursor: pointer;
}
</style>
</head>

<body>

<header>
    <h1>Delomina City Government</h1>
    <p>Restricted Administrative Archive</p>
</header>

<main>

<div class="code-box">
    <label><strong>Administrator Code:</strong></label><br>
    <input type="text" id="codeInput" placeholder="Enter code">
    <button onclick="submitCode()">Submit</button>
</div>

<div class="tabs">
    <div class="tab locked" data-tab="logs">Modification Logs</div>
    <div class="tab locked" data-tab="audit">Internal Audit</div>
    <div class="tab locked" data-tab="correspondence">Correspondence</div>
</div>

<div id="logs" class="section">
    <h2>Record Modification Logs</h2>

    <pre>
[2037-03-19 22:41] ADMIN_SYS_02
→ Modified Missing Persons Entry (MP-2036-441)
→ Name field adjusted

[2037-04-02 01:13] ADMIN_SYS_02
→ Metadata Sanitization
→ Cross-department references removed

[2037-05-11 23:58] ADMIN_OVERRIDE
→ Visibility Restriction Applied

[2037-07-14 03:17] ADMIN_OVERRIDE
→ Case Marked Inactive
→ No Further Action Required
    </pre>
</div>

<div id="audit" class="section">
<h2>Internal Audit Review</h2>

<pre>
AUDIT REF: IA-2037-11
DEPARTMENT: Public Records Oversight
REVIEW PERIOD: Q1–Q3 2037

Subject:
Review of administrative modifications applied to select Missing Person
records originating from the Public Safety database.

Scope:
This audit examined non-standard record adjustments authorized under
emergency discretion protocols, including metadata edits, classification
changes, and visibility restrictions.

Findings:
• One Missing Person record underwent multiple post-entry modifications
• Identifying fields were altered following initial publication
• Cross-references to Public Safety incident logs were removed
• Record visibility was reduced across civilian-facing systems

Authorization:
Actions were approved under Executive Continuity Directive 14-B.
No external oversight was requested or recorded.

Assessment:
Modifications materially changed how the individual appears in public
systems without formally closing the case.

The record remains technically active, though functionally inaccessible
to standard search and reporting tools.

Conclusion:
Actions were determined to be procedurally compliant.
No corrective action recommended.

Final Status: CLOSED
</pre>

</pre>
</div>

<div id="correspondence" class="section">
    <p class="restricted">Access Restricted.</p>
</div>

</main>

<script>
const permissions = {
    logs: false,
    audit: false,
    correspondence: false
};

// Restore permissions from token on page load
window.addEventListener("DOMContentLoaded", () => {
    const savedPermissions = JSON.parse(localStorage.getItem("adminPermissions"));

    if (savedPermissions) {
        Object.assign(permissions, savedPermissions);

        for (const key in permissions) {
            if (permissions[key]) {
                unlockTab(key);
            }
        }
    }
});

function submitCode() {
    const code = document.getElementById("codeInput").value.trim();
    let accessGranted = false;

    if (code === "20370714" && !permissions.logs) {
        permissions.logs = true;
        unlockTab("logs");
        alert("Access granted: Modification Logs");
        accessGranted = true;
    }

    if (code === "65814179" && !permissions.audit) {
        permissions.audit = true;
        unlockTab("audit");
        alert("Access granted: Internal Audit");
        accessGranted = true;
    }

    if (accessGranted) {
        // Save token
        localStorage.setItem("adminPermissions", JSON.stringify(permissions));
    } else {
        alert("Invalid or insufficient administrator code.");
    }

    document.getElementById("codeInput").value = "";
}

function unlockTab(tabName) {
    document
        .querySelector(`.tab[data-tab="${tabName}"]`)
        .classList.remove("locked");
}

document.querySelectorAll(".tab").forEach(tab => {
    tab.addEventListener("click", () => {
        const name = tab.dataset.tab;

        if (!permissions[name]) {
            showRestricted();
            return;
        }

        document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
        document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));

        tab.classList.add("active");
        document.getElementById(name).classList.add("active");
    });
});

function showRestricted() {
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
}
</script>


</body>
</html>
